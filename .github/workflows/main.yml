name: lab05
on:
  push:
    branches:
      - master
jobs:
  work0:
      runs-on: windows-latest
      steps:
        - uses: actions/checkout@v2
        - name: Compile-0
          run: |
            cd solver_application
            cmake . -Dmake_bin=ON
            cmake --build . --config Release
            cpack -G WIX Release
        - name: move
          run: mv D:/a/lab06/lab06/solver_application/wixxx.msi art
  work1:
      runs-on: macos-latest
      steps:
        - uses: actions/checkout@v2
        - name: Compile-1
          run: |
            cd solver_application
            cmake . -Dmake_bin=ON
            make
            cpack -G DragNDrop
        - name: move
          run: mv /Users/runner/work/lab06/lab06/solver_application/wixxx.dmg art
        
  work:
      runs-on: ubuntu-latest 
      steps:
        - uses: actions/checkout@v2
        - name: Download
          run: sudo apt install g++ cmake rpm
        - name: Compile-1
          run: |
            cd solver_application
            cmake . -Dmake_bin=ON
            make
            cpack -G DEB
            cpack -G RPM
        - name: move
          run: |
            mv /home/runner/work/lab06/lab06/solver_application/solvering.rpm art
            mv /home/runner/work/lab06/lab06/solver_application/solvering.deb art
        - name: Compile-2
          run: |
            cd solver_application
            cmake . -Dmake_bin=OFF
            make
            cpack -G ZIP
            cpack -G TGZ
        - name: move1
          run: |
            mv /home/runner/work/lab06/lab06/solver_application/just_code.zip art
            mv /home/runner/work/lab06/lab06/solver_application/just_code.tar.gz art

        
